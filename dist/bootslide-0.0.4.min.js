/*!
 * bootslide.js v0.0.4 
 * Copyright 2012, Spider Strategies <nathan.bowser@spiderstrategies.com> 
 * bootslide.js may be freely distributed under the BSD license. 
*/
(function(e){var t=function(e,t){var t=t||{};this.width=t.width||250,this.back='<div class="bootslide-back">'+(t.back||'<i class="icon-chevron-left"></i>')+"</div>",this.next='<div class="bootslide-next">'+(t.next||'<i class="icon-chevron-right"></i>')+"</div>",t.last&&(this.last='<div class="bootslide-next">'+t.last+"</div>"),this.menu=e};t.prototype.render=function(){var e=$("<div>").addClass("bootslide-container").width(this.width),t=$("<div>").addClass("bootslide-menu-slider"),n=this.width,r=this;e.append(t);var i=[];return this.buildSections(this.menu,i),t.append(i),this.resetMargins(e),$(".bootslide-menu a.bootslide-scrollable",e).click(function(e){e.preventDefault();var t=$($(this).attr("href")),i=$(this).parents(".bootslide-section");i.after(t),r.resetMargins(),$(".bootslide-menu-slider").css("margin-left",t.index()*n*-1)}),e},t.prototype.reset=function(){$(".bootslide-menu-slider").css("margin-left",0)},t.prototype.resetMargins=function(e){var t=this.width;$(".bootslide-section",e).css("margin-left",function(e){return t*e})},t.prototype.buildSections=function(e,t,n){var r=this.width,i=$("<div>").addClass("bootslide-header").text(e.label),s=$("<div>").attr("id","bootstrap-"+e.label.replace(/\ /,"-")).addClass("bootslide-section").width(this.width).append(i);n&&i.prepend(this.back).click(function(){var e=($(this).parents(".bootslide-section").index()*r-r)*-1;$(".bootslide-menu-slider").css("margin-left",e)});var o=$("<ul>").addClass("bootslide-menu nav nav-list"),u=this;$.each(e.target,function(e,n){var r=n.label.replace(/\ /g,"-").replace(/[^\w\s-]/g,""),i=$('<a href="#'+("bootstrap-"+r)+'">').text(n.label).addClass(r.toLowerCase()),s=$("<li>").append(i);o.append(s),typeof n.target=="function"?(s.addClass("bootslide-endpoint"),i.click(function(e){n.target.call(this,e,n.label,n.data)}),u.last&&i.prepend(u.last)):typeof n.target=="string"?(s.addClass("bootslide-endpoint"),i.attr("href",n.target)):(s.addClass("bootslide-step"),i.addClass("bootslide-scrollable"),i.prepend(u.next),u.buildSections(n,t,!0))}),t.unshift(s.append(o).get(0))},e.Bootslide=t})(window);